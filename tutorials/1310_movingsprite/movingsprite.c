// 1310 MovingSprite - 8 sprites moving downward
// Ported from OscarTutorials to F256K using f256lib

#include "f256lib.h"
#include "sprite_util.h"

const char SpriteImage[64] = {
	0b00000000, 0b11111000, 0b00000000,
	0b00000011, 0b11111110, 0b00000000,
	0b00001111, 0b11111111, 0b10000000,
	0b00011111, 0b11111111, 0b11000000,
	0b00111111, 0b11111111, 0b11100000,
	0b00111111, 0b11111111, 0b11100000,
	0b01111111, 0b11111111, 0b11110000,
	0b01111111, 0b11111111, 0b11110000,
	0b11111111, 0b11111111, 0b11111000,
	0b11111111, 0b11111111, 0b11111000,
	0b11111111, 0b11111111, 0b11111000,
	0b11111111, 0b11111111, 0b11111000,
	0b11111111, 0b11111111, 0b11111000,
	0b01111111, 0b11111111, 0b11110000,
	0b01111111, 0b11111111, 0b11110000,
	0b00111111, 0b11111111, 0b11100000,
	0b00111111, 0b11111111, 0b11100000,
	0b00011111, 0b11111111, 0b11000000,
	0b00001111, 0b11111111, 0b10000000,
	0b00000011, 0b11111110, 0b00000000,
	0b00000000, 0b11111000, 0b00000000
};

int main(int argc, char *argv[])
{
	sprite_init();

	for (byte i = 0; i < 8; i++)
	{
		sprite_expand_c64(SpriteImage, i, i + 8);
		sprite_set(i, true, 20 + 30 * i, 40 + 20 * i, i, i + 8);
	}

	byte y = 0;
	while (true)
	{
		for (byte i = 0; i < 8; i++)
			sprite_move(i, 20 + 30 * i, 40 + 20 * i + y);
		y++;
		graphicsWaitVerticalBlank();
	}

	return 0;
}
